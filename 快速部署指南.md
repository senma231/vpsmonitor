# VPS Monitor å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸš€ ä¸€é”®éƒ¨ç½²åˆ°Cloudflare

### ğŸ“‹ éƒ¨ç½²æ–¹å¼è¯´æ˜

- **ğŸ“„ Cloudflare Pages (å‰ç«¯)**: é€šè¿‡Gité›†æˆç›´æ¥å…³è”GitHubä»“åº“ï¼Œè‡ªåŠ¨æ„å»ºéƒ¨ç½²
- **âš¡ Cloudflare Workers (åç«¯)**: é€šè¿‡GitHub Actionsè‡ªåŠ¨åŒæ­¥éƒ¨ç½²
- **ğŸ—„ï¸ æ•°æ®åº“å’Œèµ„æº**: éœ€è¦é¢„å…ˆåˆ›å»ºD1æ•°æ®åº“å’ŒKVå­˜å‚¨

### ç¬¬ä¸€æ­¥ï¼šæ¨é€ä»£ç åˆ°GitHub

```bash
# 1. åˆå§‹åŒ–Gitä»“åº“
git init

# 2. æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆä½¿ç”¨ä½ çš„GitHubç”¨æˆ·åï¼‰
git remote add origin https://github.com/senma231/vpsmonitor.git

# 3. æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# 4. æäº¤ä»£ç 
git commit -m "Initial commit: VPS Monitoräº‘åŸç”Ÿç›‘æ§ç³»ç»Ÿ"

# 5. æ¨é€åˆ°GitHub
git push -u origin main
```

### ç¬¬äºŒæ­¥ï¼šè·å–Cloudflare API Token

1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. è¿›å…¥ "My Profile" > "API Tokens"
3. ç‚¹å‡» "Create Token" > "Custom token"
4. è®¾ç½®æƒé™ï¼š
   - Account: Cloudflare Workers:Edit
   - Account: Cloudflare Pages:Edit  
   - Account: D1:Edit
   - Zone: Zone:Read, DNS:Edit

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®GitHub Secrets

åœ¨GitHubä»“åº“çš„ Settings > Secrets and variables > Actions ä¸­æ·»åŠ ï¼š

```
CLOUDFLARE_API_TOKEN=ä½ çš„Cloudflare_API_Token
CLOUDFLARE_ACCOUNT_ID=ä½ çš„Cloudflareè´¦æˆ·ID
AUTH_SECRET=éšæœºç”Ÿæˆ32ä½å­—ç¬¦ä¸²
ENCRYPTION_KEY=éšæœºç”Ÿæˆ32ä½å­—ç¬¦ä¸²
ADMIN_PASSWORD=ç®¡ç†å‘˜å¯†ç 
# æ³¨æ„ï¼šä»¥ä¸‹ä¸¤ä¸ªå˜é‡åœ¨Workerséƒ¨ç½²åå†æ›´æ–°
VITE_API_URL=https://placeholder.workers.dev
VITE_WS_URL=wss://placeholder.workers.dev/ws
```

### ç¬¬å››æ­¥ï¼šé¢„éƒ¨ç½²è®¾ç½®

è¿è¡Œé¢„éƒ¨ç½²è„šæœ¬åˆ›å»ºå¿…è¦èµ„æºï¼š

```bash
# å®‰è£…Wrangler CLI
npm install -g wrangler

# ç™»å½•Cloudflare
wrangler login

# è¿è¡Œé¢„éƒ¨ç½²è„šæœ¬
chmod +x scripts/pre-deploy.sh
./scripts/pre-deploy.sh
```

è¿™ä¼šè‡ªåŠ¨åˆ›å»ºï¼š
- D1 æ•°æ®åº“
- KV å‘½åç©ºé—´
- æ›´æ–°é…ç½®æ–‡ä»¶
- åˆå§‹åŒ–æ•°æ®åº“
- ç”Ÿæˆç¯å¢ƒå˜é‡æ¨¡æ¿

### ç¬¬äº”æ­¥ï¼šé…ç½®Cloudflare Pages (Gité›†æˆ)

åœ¨ [Cloudflare Dashboard](https://dash.cloudflare.com/) ä¸­ï¼š

1. è¿›å…¥ **Pages** > **Create a project**
2. é€‰æ‹© **Connect to Git**
3. æˆæƒGitHubå¹¶é€‰æ‹©ä»“åº“ `senma231/vpsmonitor`
4. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - **Framework preset**: Vue
   - **Build command**: `npm run build`
   - **Build output directory**: `dist`
   - **Root directory**: `/` (ç•™ç©º)
   - **Environment variables** (æš‚æ—¶ç•™ç©ºæˆ–ä½¿ç”¨å ä½ç¬¦):

     ```bash
     # å¯ä»¥æš‚æ—¶ç•™ç©ºï¼Œå‰ç«¯ä¼šè‡ªåŠ¨æ£€æµ‹APIåœ°å€
     VITE_API_URL=
     VITE_WS_URL=
     ```

5. ç‚¹å‡» **Save and Deploy**

### ç¬¬å…­æ­¥ï¼šè§¦å‘Workerséƒ¨ç½²

æ¨é€ä»£ç è§¦å‘Workersè‡ªåŠ¨éƒ¨ç½²ï¼š

```bash
git add .
git commit -m "Deploy to production"
git push origin main
```

### ç¬¬ä¸ƒæ­¥ï¼šæ›´æ–°APIåœ°å€ (å¯é€‰)

éƒ¨ç½²å®Œæˆåï¼Œå¦‚æœéœ€è¦æ˜ç¡®æŒ‡å®šAPIåœ°å€ï¼š

1. åœ¨Cloudflare DashboardæŸ¥çœ‹WorkersåŸŸå
2. åœ¨Pagesé¡¹ç›®è®¾ç½®ä¸­æ›´æ–°ç¯å¢ƒå˜é‡
3. é‡æ–°éƒ¨ç½²Pages

**éƒ¨ç½²æµç¨‹è¯´æ˜**:

- ğŸ“„ **Pages**: Gité›†æˆï¼Œè‡ªåŠ¨æ£€æµ‹APIåœ°å€
- âš¡ **Workers**: GitHub Actionsè‡ªåŠ¨éƒ¨ç½²
- ï¿½ **è‡ªåŠ¨æ£€æµ‹**: å‰ç«¯ä¼šæ ¹æ®åŸŸåè‡ªåŠ¨æ¨å¯¼APIåœ°å€

## âœ… éƒ¨ç½²å®Œæˆ

éƒ¨ç½²æˆåŠŸåï¼Œä½ å°†è·å¾—ï¼š

- **Workers API**: `https://api.ä½ çš„åŸŸå.workers.dev`
- **å‰ç«¯é¡µé¢**: `https://vps-monitor.pages.dev`

## ğŸ”§ Agentå®‰è£…

åœ¨éœ€è¦ç›‘æ§çš„æœåŠ¡å™¨ä¸Šè¿è¡Œï¼š

```bash
# Linux/macOSä¸€é”®å®‰è£…
curl -fsSL https://raw.githubusercontent.com/senma231/vpsmonitor/main/scripts/install-agent.sh | bash
```

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

- æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š`docs/deployment.md`
- æäº¤é—®é¢˜ï¼š[GitHub Issues](https://github.com/senma231/vpsmonitor/issues)

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### é¢„éƒ¨ç½²æ£€æŸ¥
- [ ] GitHubä»“åº“å·²åˆ›å»ºå¹¶æ¨é€ä»£ç 
- [ ] Cloudflareè´¦å·å·²æ³¨å†Œ
- [ ] API Tokenå·²è·å–
- [ ] GitHub Secretså·²é…ç½®

### èµ„æºåˆ›å»ºæ£€æŸ¥
- [ ] D1æ•°æ®åº“å·²åˆ›å»º
- [ ] KVå‘½åç©ºé—´å·²åˆ›å»º
- [ ] wrangler.tomlå·²æ›´æ–°ID

### éƒ¨ç½²æ£€æŸ¥
- [ ] Pagesé¡¹ç›®å·²åˆ›å»ºå¹¶å…³è”Git
- [ ] Workersé€šè¿‡Actionséƒ¨ç½²æˆåŠŸ
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] åŸŸåè®¿é—®æ­£å¸¸

---

**æ³¨æ„**: è¿™æ˜¯å…¨æ–°å¼€å‘çš„é¡¹ç›®ï¼Œä¸éœ€è¦forkåŸæœ‰é¡¹ç›®ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼
